<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Cross Browser Testing</title>
	<script type="text/javascript" src=" https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
</head>
<body>
	<div id="description" style="width:100%"><p>CORS Testing -- JSON Example</p></div>
	<div id="outcome"></div>
	
	

	<script>
	
		var destination = "https://survey.us.confirmit.com/wix/p3076178147.aspx"; 
		var respData = { "qName" : "Brian Londregan", "qEmail" : "brian.londregan@gmail.com", "__sid__" : "" };
	
	//ANOTHER APPROACH:
	//var invocation = new XMLHttpRequest(); 
	//invocation.open("POST", url, true);
	//invocation.setRequestHeader(name,value);
	//invocation.send(data);

		$.ajax({
			type : "POST",
			url : destination, 
			dataType : "text", 
			contentType: "application/x-www-form-urlencoded; charset=UTF-8",
			data : respData, 
			success : function(result){
				$('#outcome').html(result);
			},
			error : function(error){
				$('#outcome').html(error);
			}
		});
	
	/*THIS IS ENABLED IN SURVEY SETTINGS:  Accept POST requests for unique respondent URLs (only enable if required)*/
	/*YET I GET:  XMLHttpRequest cannot load https://survey.confirmit.com/wix/p3076178147.aspx. No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'https://popup-project.herokuapp.com' is therefore not allowed access.*/
	/*AND ON A DIFFERENT TRY:  Failed to load resource: the server responded with a status of 404 (Not Found). XMLHttpRequest cannot load https://survey.confirmit.com/wix/p3076178147.aspx. Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'https://popup-project.herokuapp.com' is therefore not allowed access. The response had HTTP status code 404.*/
		
	</script>
	
</body>
</html>